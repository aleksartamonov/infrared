CC = gfortran
OBJS = main.o trap.o constants.o subfun.o
EXE = main
PLOTS = plotP.p plottau.p
all:	$(EXE)
	make
$(EXE):	$(OBJS)
	$(CC) $(OBJS) -o $(EXE)

main.o: constants.o trap.o subfun.o main.f95
	$(CC)  main.f95

subfun.o: constants.o trap.o subfun.f95
	$(CC)  subfun.f95

trap.o: trap.f95
	$(CC)  trap.f95

constants.o: constants.f95
	$(CC)  constants.f95 

clean:
	rm -f $(OBJS) $(EXE)

# The '@' symbol at the start of a line suppresses output
run:	$(EXE)
	cd $(SRC)
	../$(EXE)

plot: $(PLOTS)
	gnuplot $(PLOTS)
